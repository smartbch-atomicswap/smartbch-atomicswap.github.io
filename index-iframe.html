<!DOCTYPE html>
<html>

<head>
</head>

<body>
    <iframe src="https://smartbch-atomicswap.github.io/index.html" onload="handleOnload"></iframe>
</body>

<script>
    function handleOnload() {
        const channel = new MessageChannel();
        document.querySelector("iframe").contentWindow.postMessage({
            Pay4BestWalletReq: {
                GetAddr: true,
            }
        }, '*', [channel.port1]);
        channel.port2.onmessage = function (event) {
            console.log("GetAddr onmessage", event)
        }
    }

    function handleMessage(message) {
        console.log("handleMessage", message)
    }

    window.addEventListener("message", function receiveMessageFromIframePage(event) {
        console.log('iframe message', event)
    }, false);
</script>

</html>